// ==SE_module==
// name: auto_open_veteran0
// displayName: Auto Open Chat with veteran0
// description: Opens chat with veteran0 when Snapchat starts.
// version: 1.0
// author: You
// executionSides: core
// ==/SE_module==

module.onSnapMainActivityCreate = () => {
    if (typeof messaging === "undefined") {
        console.error("messaging not available");
        return;
    }

    const username = "veteran0";

    setTimeout(() => {
        messaging.getOneOnOneConversationIds([username], (error, result) => {
            if (error || !result || result.length === 0) {
                console.error("Failed to open chat with " + username);
                return;
            }

            const { conversationId } = result[0];
            console.info("Chat opened: " + conversationId);

            // إرسال رسالة فارغة لتفعيل المحادثة
            messaging.sendChatMessage(conversationId, "", () => {});

            longToast("Chat with @" + username + " opened!");
        });
    }, 1500);
};
